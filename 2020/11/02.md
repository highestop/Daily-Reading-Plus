# [How We Learned to Stop Worrying and Read from Replicas](https://medium.com/box-tech-blog/how-we-learned-to-stop-worrying-and-read-from-replicas-58cc43973638)

- You realize that you inadvertently stepped into the mucky marshlands of eventual consistency（ 这句话第一眼看得我有点懵逼 ）
- 数据库副本可以用来解决高并发问题，但会带来一致性问题。如用户行为修改了 master 库又从 slave 读数据而此时还没有同步就会造成困扰
- 有些 case 下不一致问题不大，因为动作频率低只有小概率「 凑巧 」出问题，但多数是不太能容忍的
- 作者提到如遇到 replication-lag-sensitive but latency-tolerant（ 我理解为「 一致性优先 」？）的场景时，会采用轮询是否能在窗口期内完成 replicate 的方式保证一致性。但代价是 high latency，并且持续的延迟会导致持续的失败所以 retry 不一定奏效
- 思路是可以不等到所有写之后再读，所需的「 就位了 」就可以，即使整个 database replication 会有 lag 也没关系
- 解决方式是，在写行为发生时将 master 中的 position 一并返回给 access-layer，供后续相关的读使用，其实就是不必要每次都等待主从同步结束